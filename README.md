# Setema de Reservas - Backend

A aplicação gerencia as reservas de um restaurante e faz recomendação de horários para o usuário;

Recomendações:
**1 - Recomendação por horário próximo;**

**2 - Horários menos ocupados por dia; (Otimiza a ocupação)**

**3 - Horários menos ocupados sempre consultando todas as reservas; (Otimiza a ocupação)(Pode ter descontos)**

Passos para rodar esse projeto

1. npm install ou yarn install
2. Iniciar o banco de dados. O projeto conta com um docker-compose que sobe o banco rodando docker-compose up
3. Iniciar a aplicação backend npm run dev
4. O backend fará a inclusão das entidades por meio das entidades do TypeORM
5. Para ter alguns dados sugiro realizar a inserção no banco dos seguintes scripts: ***Melhoria, colocar isso em Migrations
5.1 Inserção de um restaurante 

INSERT INTO restaurant (name, capacity , lat , log)                                                                                                         
VALUES ('Morada do Sabor', 30, -48.23, 56.23);

5.2 Criação e Inserção de dados na tabela de horários de atendimento

CREATE TABLE all_times (
  id SERIAL PRIMARY KEY,
  time VARCHAR(10) NOT NULL,
  seats INT NOT NULL DEFAULT 0
);

INSERT INTO all_times (time) VALUES
('11:00'), ('11:30'), ('12:00'), ('12:30'),
('13:00'), ('13:30'), ('14:00'), ('14:30'), ('15:00');

5.3 Insert de reservas fake caso queiser testar com alguns dados

INSERT INTO reservation (date, time, seats, restaurant_id , user_customer)                                                                                   
VALUES                                                                                                                                                      
("20/12/2023","13:30",7,1,1),
("21/12/2023","11:30",4,1,1),
("22/12/2023","12:00",2,1,1),
("22/12/2023","13:30",7,1,1),
("22/12/2023","11:30",7,1,1),
("22/12/2023","13:00",7,1,1),
("22/12/2023","12:00",3,1,1),
("22/12/2023","13:30",8,1,1),
("22/12/2023","12:00",4,1,1),
("23/12/2023","14:00",7,1,1),
("23/12/2023","14:00",4,1,1),
("23/12/2023","13:30",1,1,1),
("23/12/2023","14:00",1,1,1),
("23/12/2023","13:00",7,1,1),
("24/12/2023","11:30",5,1,1),
("25/12/2023","14:00",8,1,1),
("25/12/2023","13:30",8,1,1),
("25/12/2023","12:00",8,1,1),
("25/12/2023","12:00",2,1,1),
("25/12/2023","11:00",3,1,1),
("20/12/2023","12:30",1,1,1),
("20/12/2023","12:30",2,1,1),
("20/12/2023","11:30",8,1,1),
("21/12/2023","12:30",5,1,1),
("21/12/2023","12:00",8,1,1),
("22/12/2023","12:30",1,1,1),
("23/12/2023","12:30",2,1,1),
("22/12/2023","12:00",8,1,1),
("22/12/2023","13:30",4,1,1),
("23/12/2023","13:00",5,1,1),
("25/12/2023","11:30",3,1,1),
("25/12/2023","13:30",4,1,1),
("25/12/2023","13:30",2,1,1),
("25/12/2023","12:00",8,1,1),
("26/12/2023","12:00",2,1,1),
("20/12/2023","13:00",4,1,1),
("20/12/2023","14:00",1,1,1),
("20/12/2023","11:00",4,1,1),
("20/12/2023","12:30",6,1,1),
("20/12/2023","11:00",1,1,1),
("21/12/2023","14:00",6,1,1),
("21/12/2023","12:30",6,1,1),
("21/12/2023","12:00",7,1,1),
("21/12/2023","11:00",8,1,1),
("22/12/2023","12:00",5,1,1),
("22/12/2023","13:30",3,1,1),
("22/12/2023","12:00",3,1,1),
("22/12/2023","13:00",7,1,1),
("22/12/2023","11:00",1,1,1),
("22/12/2023","11:00",2,1,1),
("22/12/2023","11:30",1,1,1),
("22/12/2023","11:00",1,1,1),
("22/12/2023","11:00",6,1,1),
("22/12/2023","12:00",1,1,1),
("23/12/2023","13:30",6,1,1),
("23/12/2023","13:30",5,1,1),
("23/12/2023","11:00",5,1,1),
("23/12/2023","12:00",3,1,1),
("24/12/2023","11:30",1,1,1),
("24/12/2023","12:00",8,1,1),
("24/12/2023","12:30",1,1,1),
("24/12/2023","14:00",3,1,1),
("24/12/2023","12:30",7,1,1),
("25/12/2023","12:00",3,1,1),
("25/12/2023","12:00",2,1,1),
("25/12/2023","12:30",3,1,1),
("25/12/2023","12:00",4,1,1),
("25/12/2023","14:00",7,1,1),
("25/12/2023","12:30",1,1,1),
("25/12/2023","14:00",4,1,1),
("26/12/2023","12:30",5,1,1),
("26/12/2023","12:30",4,1,1),
("26/12/2023","12:30",3,1,1),
("26/12/2023","13:30",7,1,1),
("26/12/2023","13:00",4,1,1),
("21/12/2023","13:00",7,1,1),
("21/12/2023","12:30",4,1,1),
("21/12/2023","12:00",1,1,1),
("21/12/2023","11:30",3,1,1),
("21/12/2023","11:30",8,1,1),
("22/12/2023","11:30",4,1,1),
("22/12/2023","11:00",4,1,1),
("22/12/2023","13:30",2,1,1),
("22/12/2023","13:30",6,1,1),
("22/12/2023","11:00",5,1,1),
("22/12/2023","12:30",6,1,1),
("22/12/2023","12:00",5,1,1),
("22/12/2023","12:00",2,1,1),
("22/12/2023","12:30",4,1,1),
("22/12/2023","11:00",4,1,1),
("23/12/2023","11:00",3,1,1),
("23/12/2023","12:00",8,1,1),
("23/12/2023","14:00",6,1,1),
("23/12/2023","14:00",7,1,1),
("23/12/2023","11:00",2,1,1),
("23/12/2023","12:30",8,1,1),
("24/12/2023","12:30",8,1,1),
("24/12/2023","12:30",2,1,1),
("24/12/2023","13:30",6,1,1),
("24/12/2023","12:00",4,1,1),
("24/12/2023","12:30",6,1,1),
("20/12/2023","12:30",6,1,1),
("20/12/2023","12:30",7,1,1),
("21/12/2023","12:30",7,1,1),
("21/12/2023","11:00",6,1,1),
("22/12/2023","12:30",7,1,1),
("22/12/2023","13:30",2,1,1),
("22/12/2023","12:00",2,1,1),
("20/12/2023","13:30",6,1,1),
("20/12/2023","12:00",4,1,1),
("20/12/2023","12:30",4,1,1),
("20/12/2023","12:00",3,1,1),
("20/12/2023","12:00",4,1,1),
("21/12/2023","12:00",7,1,1),
("21/12/2023","13:30",8,1,1),
("21/12/2023","12:00",4,1,1),
("22/12/2023","14:00",3,1,1),
("22/12/2023","11:00",2,1,1),
("22/12/2023","11:30",8,1,1),
("22/12/2023","14:00",8,1,1),
("23/12/2023","11:00",7,1,1),
("23/12/2023","14:00",1,1,1),
("23/12/2023","14:00",6,1,1),
("24/12/2023","12:00",3,1,1),
("24/12/2023","12:00",7,1,1),
("25/12/2023","14:00",8,1,1),
("25/12/2023","11:30",5,1,1),
("25/12/2023","11:30",6,1,1),
("26/12/2023","14:00",8,1,1),
("26/12/2023","11:00",2,1,1),
("20/12/2023","11:00",1,1,1),
("20/12/2023","12:00",1,1,1),
("20/12/2023","11:00",2,1,1),
("20/12/2023","12:00",3,1,1),
("21/12/2023","11:30",2,1,1),
("22/12/2023","12:00",2,1,1),
("22/12/2023","14:00",2,1,1),
("22/12/2023","14:00",5,1,1),
("22/12/2023","12:00",8,1,1),
("23/12/2023","13:30",3,1,1),
("23/12/2023","13:30",3,1,1),
("25/12/2023","12:00",3,1,1),
("25/12/2023","13:30",5,1,1),
("25/12/2023","12:00",7,1,1),
("25/12/2023","13:30",8,1,1),
("25/12/2023","12:00",1,1,1),
("25/12/2023","11:30",4,1,1),
("25/12/2023","12:00",2,1,1),
("25/12/2023","14:00",1,1,1),
("26/12/2023","12:00",5,1,1);     